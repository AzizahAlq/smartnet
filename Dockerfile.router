FROM ubuntu:20.04

# Install dependencies
RUN apt-get update && apt-get install -y \
    git cmake build-essential \
    libssl-dev libcurl4-openssl-dev

# Install OpenDDS
RUN git clone https://github.com/objectcomputing/OpenDDS.git && \
    cd OpenDDS && ./configure && make -j4 && make install

# Copy your DDS publisher script
COPY dds_publisher_script.sh /app/

# Run the DDS publisher script when the container starts
CMD ["sh", "/app/dds_publisher_script.sh"]
